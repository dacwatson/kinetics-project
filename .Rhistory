"0 aSf 20 PrLDm" = "C10",
"0 aSf 25 PrLDm" = "C11",
"0 aSf 30 PrLDm" = "C12",
"0.1 aSf 0 PrLDm" = "D1",
"0.5 aSf 0 PrLDm" = "D2",
"01 aSf 0 PrLDm" = "D3",
"2 aSf 0 PrLDm" = "D4",
"4 aSf 0 PrLDm" = "D5"
))
X030_149 <- X030_149 %>%
convert(num(1:ncol(X030_149))) %>%
mutate(across(hours, round, 3)) %>%
select(!`Time`) %>%
pivot_longer(c(-1), names_to = "og_col") %>%
filter(hours<=48, hours %% (round(1/3,3)) < 0.1) %>%
mutate(exp = "030_149")
View(X030_128)
group_regex <- regex('^[0-9]\\d*(\\.\\d+)? aSf \\d+ PrLDm')
alldata_fnorm <- bind_rows(
X030_126,
X030_127,
X030_128,
X030_139,
X030_143,
X030_145,
X030_148,
X030_149) %>%
mutate(
grp = str_extract(og_col, group_regex)
) %>%
group_by(hours, grp) %>%
unite(col = "id", c(og_col, exp), sep = "-", remove = FALSE) %>%
# normalizes columns by a factor f for each column such that f*colmin=grpmin
# find the min for each individual reaction
ungroup() %>%
group_by(id) %>%
mutate(min_col = min(value, na.rm = TRUE)) %>%
# find the min for each stoichiometry
ungroup() %>%
group_by(grp) %>%
mutate(min_grp = min(value, na.rm = TRUE)) %>%
# multiply each reaction by the factor which will make
# the min of the reaction equal the min of the stoichiometry
ungroup() %>%
group_by(grp, id) %>%
mutate(factor = min_col / min_grp) %>%
mutate(fnorm.value = value / factor) %>%
mutate(min_col_new = min(fnorm.value, na.rm = TRUE))
View(alldata_fnorm)
alldata_fnorm <- bind_rows(
X030_126,
X030_127,
X030_128,
X030_139,
X030_143,
X030_145,
X030_148,
X030_149) %>%
mutate(
grp = str_extract(og_col, group_regex)
) %>%
group_by(hours, grp) %>%
unite(col = "id", c(og_col, exp), sep = "-", remove = FALSE) %>%
# normalizes columns by a factor f for each column such that f*colmin=grpmin
# find the min for each individual reaction
ungroup() %>%
group_by(id) %>%
mutate(min_col = min(value, na.rm = TRUE)) %>%
# find the min for each stoichiometry
ungroup() %>%
group_by(grp) %>%
mutate(min_grp = min(value, na.rm = TRUE)) %>%
# multiply each reaction by the factor which will make
# the min of the reaction equal the min of the stoichiometry
ungroup() %>%
group_by(grp, id) %>%
mutate(factor = min_col / min_grp) %>%
mutate(fnorm.value = value / factor) %>%
mutate(min_col_new = min(fnorm.value, na.rm = TRUE))
alldata_fnorm %>%
ungroup() %>%
select(hours, og_col, fnorm.value) %>%
pivot_wider(names_from = "id", values_from = "fnorm.value") %>%
as_tibble() %>%
write.csv(file = "C:\\Users\\Landon\\Documents\\---Actual Documents\\R Projects\\ThT Kinetics project\\data\\alldata_fnorm.csv")
alldata_fnorm <- bind_rows(
X030_126,
X030_127,
X030_128,
X030_139,
X030_143,
X030_145,
X030_148,
X030_149) %>%
mutate(
grp = str_extract(og_col, group_regex)
) %>%
group_by(hours, grp) %>%
unite(col = "id", c(og_col, exp), sep = "-", remove = FALSE) %>%
# normalizes columns by a factor f for each column such that f*colmin=grpmin
# find the min for each individual reaction
ungroup() %>%
group_by(id) %>%
mutate(min_col = min(value, na.rm = TRUE)) %>%
# find the min for each stoichiometry
ungroup() %>%
group_by(grp) %>%
mutate(min_grp = min(value, na.rm = TRUE)) %>%
# multiply each reaction by the factor which will make
# the min of the reaction equal the min of the stoichiometry
ungroup() %>%
group_by(grp, id) %>%
mutate(factor = min_col / min_grp) %>%
mutate(fnorm.value = value / factor) %>%
mutate(min_col_new = min(fnorm.value, na.rm = TRUE))
alldata_fnorm %>%
ungroup() %>%
select(hours, id, fnorm.value) %>%
pivot_wider(names_from = "id", values_from = "fnorm.value") %>%
as_tibble() %>%
write.csv(file = "C:\\Users\\Landon\\Documents\\---Actual Documents\\R Projects\\ThT Kinetics project\\data\\alldata_fnorm.csv")
alldata_fnorm %>%
ungroup() %>%
select(hours, id, fnorm.value) %>%
pivot_wider(names_from = "id", values_from = "fnorm.value") %>%
as_tibble() %>%
write.csv(file = "C:\\Users\\Landon\\Documents\\---Actual Documents\\R Projects\\ThT Kinetics project\\data\\alldata_fnorm.csv")
alldata_fnorm %>%
ungroup() %>%
select(hours, id, fnorm.value) %>%
pivot_wider(names_from = "id", values_from = "fnorm.value") %>%
as_tibble() #%>%
alldata_fnorm <- alldata_long %>%
ungroup() %>%
group_by(og_col) %>%
mutate(min_col = min(value, na.rm = TRUE)) %>%
ungroup() %>%
group_by(grp) %>%
mutate(min_grp = min(value, na.rm = TRUE)) %>%
ungroup() %>%
group_by(grp, og_col) %>%
mutate(factor = min_col / min_grp) %>%
mutate(fnorm.value = value / factor) %>%
mutate(new_min = min(fnorm.value, na.rm = TRUE))
# write alldata_factornorm in longform
alldata_fnorm %>%
ungroup() %>%
select(hours, og_col, fnorm.value) %>%
pivot_wider(names_from = "og_col", values_from = "fnorm.value") %>%
as_tibble() %>%
#write.csv(file = "G:\\Other computers\\Desktop\\---Actual Documents\\R Projects\\ThT Kinetics project\\data\\alldata_factornorm.csv")
write.csv(file = "C:\\Users\\Landon\\Documents\\---Actual Documents\\R Projects\\ThT Kinetics project\\data\\alldata_fnorm.csv")
# write alldata_factornorm in longform
alldata_fnorm %>%
ungroup() %>%
select(hours, og_col, fnorm.value) %>%
pivot_wider(names_from = "og_col", values_from = "fnorm.value") %>%
as_tibble() #%>%
group_regex <- regex('^[0-9]\\d*(\\.\\d+)? aSf \\d+ PrLDm')
alldata_fnorm <- bind_rows(
X030_126,
X030_127,
X030_128,
X030_139,
X030_143,
X030_145,
X030_148,
X030_149) %>%
mutate(
grp = str_extract(og_col, group_regex)
) %>%
group_by(hours, grp) %>%
unite(col = "id", c(og_col, exp), sep = "-", remove = FALSE) %>%
# normalizes columns by a factor f for each column such that f*colmin=grpmin
# find the min for each individual reaction
ungroup() %>%
group_by(id) %>%
mutate(min_col = min(value, na.rm = TRUE)) %>%
# find the min for each stoichiometry
ungroup() %>%
group_by(grp) %>%
mutate(min_grp = min(value, na.rm = TRUE)) %>%
# multiply each reaction by the factor which will make
# the min of the reaction equal the min of the stoichiometry
ungroup() %>%
group_by(grp, id) %>%
mutate(factor = min_col / min_grp) %>%
mutate(fnorm.value = value / factor) %>%
mutate(min_col_new = min(fnorm.value, na.rm = TRUE))
View(alldata_fnorm)
alldata_fnorm %>%
ungroup() %>%
select(hours, id, fnorm.value) #%>%
alldata_fnorm %>%
ungroup() %>%
select(hours, id, fnorm.value) %>%
pivot_wider(names_from = "id", values_from = "fnorm.value") #%>%
alldata_fnorm %>%
ungroup() %>%
group_by(hours, grp, id) %>%
select(hours, id, fnorm.value) %>%
pivot_wider(names_from = "id", values_from = "fnorm.value") #%>%
alldata_fnorm %>%
ungroup() %>%
group_by(hours) %>%
select(hours, id, fnorm.value) %>%
pivot_wider(names_from = "id", values_from = "fnorm.value") #%>%
alldata_fnorm <- alldata_long %>%
ungroup() %>%
group_by(og_col) %>%
mutate(min_col = min(value, na.rm = TRUE)) %>%
ungroup() %>%
group_by(grp) %>%
mutate(min_grp = min(value, na.rm = TRUE)) %>%
ungroup() %>%
group_by(grp, og_col) %>%
mutate(factor = min_col / min_grp) %>%
mutate(fnorm.value = value / factor) %>%
mutate(new_min = min(fnorm.value, na.rm = TRUE))
View(alldata_fnorm)
alldata_fnorm_old <- alldata_long %>%
ungroup() %>%
group_by(og_col) %>%
mutate(min_col = min(value, na.rm = TRUE)) %>%
ungroup() %>%
group_by(grp) %>%
mutate(min_grp = min(value, na.rm = TRUE)) %>%
ungroup() %>%
group_by(grp, og_col) %>%
mutate(factor = min_col / min_grp) %>%
mutate(fnorm.value = value / factor) %>%
mutate(new_min = min(fnorm.value, na.rm = TRUE))
View(alldata_fnorm_old)
alldata_fnorm <- bind_rows(
X030_126,
X030_127,
X030_128,
X030_139,
X030_143,
X030_145,
X030_148,
X030_149) %>%
mutate(
grp = str_extract(og_col, group_regex)
) %>%
group_by(hours, grp) %>%
unite(col = "id", c(og_col, exp), sep = "-", remove = FALSE) %>%
# normalizes columns by a factor f for each column such that f*colmin=grpmin
# find the min for each individual reaction
ungroup() %>%
group_by(id) %>%
mutate(min_col = min(value, na.rm = TRUE)) %>%
# find the min for each stoichiometry
ungroup() %>%
group_by(grp) %>%
mutate(min_grp = min(value, na.rm = TRUE)) %>%
# multiply each reaction by the factor which will make
# the min of the reaction equal the min of the stoichiometry
ungroup() %>%
group_by(grp, id) %>%
mutate(factor = min_col / min_grp) %>%
mutate(fnorm.value = value / factor) %>%
mutate(min_col_new = min(fnorm.value, na.rm = TRUE))
# write alldata_factornorm in longform
alldata_fnorm %>%
ungroup() %>%
select(hours, og_col, fnorm.value) #%>%
alldata_fnorm %>%
ungroup() %>%
group_by(hours) %>%
select(hours, id, fnorm.value) #%>%
# write alldata_factornorm in longform
alldata_fnorm_old %>%
ungroup() %>%
select(hours, og_col, fnorm.value) #%>%
alldata_fnorm %>%
ungroup() %>%
group_by(hours,id) %>%
select(hours, id, fnorm.value) #%>%
alldata_fnorm %>%
ungroup() %>%
group_by(hours,id) %>%
select(hours, id, fnorm.value) %>%
pivot_wider(names_from = "id", values_from = "fnorm.value") #%>%
alldata_fnorm %>%
ungroup() %>%
group_by(hours,id) %>%
select(hours, id, fnorm.value) %>%
pivot_wider(id_cols = "id", names_from = "id", values_from = "fnorm.value") #%>%
group_regex <- regex('^[0-9]\\d*(\\.\\d+)? aSf \\d+ PrLDm')
alldata_fnorm <- bind_rows(
X030_126,
X030_127,
X030_128,
X030_139,
X030_143,
X030_145,
X030_148,
X030_149) %>%
mutate(
grp = str_extract(og_col, group_regex)
) %>%
group_by(hours, grp) %>%
unite(col = "id", c(og_col, exp), sep = "-", remove = FALSE) %>%
# normalizes columns by a factor f for each column such that f*colmin=grpmin
# find the min for each individual reaction
ungroup() %>%
group_by(id) %>%
mutate(min_col = min(value, na.rm = TRUE)) %>%
# find the min for each stoichiometry
ungroup() %>%
group_by(grp) %>%
mutate(min_grp = min(value, na.rm = TRUE)) %>%
# multiply each reaction by the factor which will make
# the min of the reaction equal the min of the stoichiometry
ungroup() %>%
group_by(grp, id) %>%
mutate(factor = min_col / min_grp) %>%
mutate(fnorm.value = value / factor) %>%
mutate(min_col_new = min(fnorm.value, na.rm = TRUE))
alldata_fnorm %>%
ungroup() %>%
group_by(hours,id) %>%
select(hours, id, fnorm.value) %>%
pivot_wider(id_cols = "id", names_from = "id", values_from = "fnorm.value") #%>%
alldata_fnorm %>%
ungroup() %>%
select(hours, id, fnorm.value) %>%
pivot_wider(id_cols = "id", names_from = "id", values_from = "fnorm.value") #%>%
alldata_fnorm_old <- alldata_long %>%
ungroup() %>%
group_by(og_col) %>%
mutate(min_col = min(value, na.rm = TRUE)) %>%
ungroup() %>%
group_by(grp) %>%
mutate(min_grp = min(value, na.rm = TRUE)) %>%
ungroup() %>%
group_by(grp, og_col) %>%
mutate(factor = min_col / min_grp) %>%
mutate(fnorm.value = value / factor) %>%
mutate(new_min = min(fnorm.value, na.rm = TRUE))
# write alldata_factornorm in longform
alldata_fnorm_old %>%
ungroup() %>%
select(hours, og_col, fnorm.value) #%>%
# write alldata_factornorm in longform
alldata_fnorm_old %>%
ungroup() %>%
select(hours, og_col, fnorm.value) %>%
pivot_wider(names_from = "og_col", values_from = "fnorm.value") %>%
as_tibble() #%>%
alldata_fnorm %>%
ungroup() %>%
group_by(id) %>%
mutate(row = row_number())
alldata_fnorm %>%
ungroup() %>%
group_by(id) %>%
mutate(row = row_number()) %>%
select(hours, row, id, fnorm.value) #%>%
group_regex <- regex('^[0-9]\\d*(\\.\\d+)? aSf \\d+ PrLDm')
alldata_fnorm <- bind_rows(
X030_126,
X030_127,
X030_128,
X030_139,
X030_143,
X030_145,
X030_148,
X030_149) %>%
mutate(
grp = str_extract(og_col, group_regex)
) %>%
group_by(hours, grp) %>%
unite(col = "id", c(og_col, exp), sep = "_", remove = FALSE) %>%
# normalizes columns by a factor f for each column such that f*colmin=grpmin
# find the min for each individual reaction
ungroup() %>%
group_by(id) %>%
mutate(min_col = min(value, na.rm = TRUE)) %>%
# find the min for each stoichiometry
ungroup() %>%
group_by(grp) %>%
mutate(min_grp = min(value, na.rm = TRUE)) %>%
# multiply each reaction by the factor which will make
# the min of the reaction equal the min of the stoichiometry
ungroup() %>%
group_by(grp, id) %>%
mutate(factor = min_col / min_grp) %>%
mutate(fnorm.value = value / factor) %>%
mutate(min_col_new = min(fnorm.value, na.rm = TRUE))
alldata_fnorm %>%
ungroup() %>%
group_by(id) %>%
mutate(row = row_number()) %>%
select(hours, row, id, fnorm.value) #%>%
alldata_fnorm %>%
ungroup() %>%
group_by(id) %>%
mutate(row = row_number()) %>%
select(hours, row, id, fnorm.value) %>%
pivot_wider(names_from = "id", values_from = "fnorm.value") %>%
as_tibble() %>%
select(-row) %>%
write.csv(file = "C:\\Users\\Landon\\Documents\\---Actual Documents\\R Projects\\ThT Kinetics project\\data\\alldata_fnorm.csv")
alldata_fnorm %>%
ungroup() %>%
group_by(id) %>%
mutate(row = row_number()) %>%
select(hours, row, id, fnorm.value) %>%
pivot_wider(names_from = "id", values_from = "fnorm.value") %>%
as_tibble() %>%
select(-row)
alldata_fnorm %>%
ungroup() %>%
group_by(id) %>%
mutate(row = row_number()) %>%
select(hours, row, id, fnorm.value) %>%
pivot_wider(names_from = "id", values_from = "fnorm.value") %>%
as_tibble() %>%
select(-row) #%>%
alldata_fnorm %>%
ungroup() %>%
group_by(id) %>%
mutate(row = row_number()) %>%
select(hours, row, id, fnorm.value) %>%
pivot_wider(names_from = "id", values_from = "fnorm.value") %>%
as_tibble() %>%
select(-row) %>%
group_by(hours, id) %>%
write.csv(file = "C:\\Users\\Landon\\Documents\\---Actual Documents\\R Projects\\ThT Kinetics project\\data\\alldata_fnorm.csv")
alldata_fnorm %>%
ungroup() %>%
group_by(id) %>%
mutate(row = row_number()) %>%
select(hours, row, id, fnorm.value) %>%
pivot_wider(names_from = "id", values_from = "fnorm.value") %>%
as_tibble() %>%
select(-row) #%>%
alldata_fnorm %>%
ungroup() %>%
group_by(id) %>%
mutate(row = row_number()) %>%
select(hours, row, id, fnorm.value) %>%
pivot_wider(names_from = "id", values_from = "fnorm.value") %>%
as_tibble() %>%
select(-row) #%>%
alldata_fnorm %>%
ungroup() %>%
group_by(id) %>%
mutate(row = row_number()) %>%
select(hours, row, id, fnorm.value) %>%
pivot_wider(names_from = "id", values_from = "fnorm.value") %>%
as_tibble() %>%
select(-row) #%>%
alldata_fnorm %>%
ungroup() %>%
group_by(id) %>%
mutate(row = row_number()) %>%
select(hours, row, id, fnorm.value) #%>%
alldata_fnorm %>%
ungroup() %>%
group_by(id) %>%
mutate(row = row_number()) %>%
select(hours, row, id, fnorm.value) #%>%
alldata_fnorm %>%
ungroup() %>%
group_by(id) %>%
mutate(row = row_number()) %>%
select(hours, row, id, fnorm.value) %>%
pivot_wider(names_from = "id", values_from = "fnorm.value") %>%
as_tibble() %>%
select(-row) %>%
select(order(colnames(.)))
alldata_fnorm %>%
ungroup() %>%
group_by(id) %>%
mutate(row = row_number()) %>%
select(hours, row, id, fnorm.value) %>%
pivot_wider(names_from = "id", values_from = "fnorm.value") %>%
as_tibble() %>%
select(-row) %>%
select(hours, order(colnames(.)))
alldata_fnorm %>%
ungroup() %>%
group_by(id) %>%
mutate(row = row_number()) %>%
select(hours, row, id, fnorm.value) %>%
pivot_wider(names_from = "id", values_from = "fnorm.value") %>%
as_tibble() %>%
select(-row) %>%
select(hours, order(colnames(.))) %>%
write.csv(file = "C:\\Users\\Landon\\Documents\\---Actual Documents\\R Projects\\ThT Kinetics project\\data\\alldata_fnorm.csv")
alldata_fnorm %>%
ungroup() %>%
group_by(id) %>%
mutate(row = row_number()) %>%
select(hours, row, id, fnorm.value) %>%
pivot_wider(names_from = "id", values_from = "fnorm.value") %>%
as_tibble() %>%
select(-row) %>%
select(hours, order(colnames(.))) %>%
write.csv(file = "C:\\Users\\Landon\\Documents\\---Actual Documents\\R Projects\\ThT Kinetics project\\data\\alldata_fnorm.csv")
getwd()
install.packages("tidyverse")
install.packages("languageserver")
R. version
R. Version
R.Version()
R.version
# Read the xlsx file
data <- read_excel("shailendraHomotypicData\\shailendraHomotypicData.xlsx")
